# 📝 项目设计文档：隐秘泡泡 (Secret Bubble) v1.0

## 1. 项目概述
*   **项目名称**：隐秘泡泡 (Secret Bubble)
*   **平台**：HarmonyOS 元服务 (Atomic Service)
*   **核心理念**：轻量、活泼、阅后即焚。让枯燥的 Base64 编解码过程变得像传纸条一样有趣且安全。

## 2. 功能需求清单 (Functional Requirements)

### 2.1 核心加解密
*   **Base64 编码**：将普通文本转换为 Base64 字符串。
*   **Base64 解码**：将 Base64 字符串还原为普通文本。
*   **异常处理**：输入非法字符时，显示友好的动画提示（如文字抖动或气泡破碎），而不是系统报错。

### 2.2 多模态输入 (Multi-modal Input)
*   **文本输入**：
    *   使用标准 `TextInput`/`TextArea` 组件。
    *   支持系统键盘的手写模式。
*   **OCR 文字提取** (后续迭代)：
    *   调用 **Core Vision Kit** (文本识别)。
    *   功能：拍照或从相册选图 -> 识别文字 -> 自动填入输入框。
*   **扫码输入** (后续迭代)：
    *   调用 **Scan Kit** (扫码服务)。
    *   功能：扫描二维码 -> 解析内容 -> 自动填入输入框（主要用于快速获取Base64串）。

### 2.3 隐私保护机制 (The "Secret" Logic)
这是本应用的核心交互逻辑，应用于**输入框**和**结果框**。

1.  **默认隐藏 (Default Hidden)**：
    *   内容区域覆盖高斯模糊 (Blur) 或遮罩层。
    *   显示“点击查看”或类似图标。
2.  **限时查看 (Time-limited Reveal)**：
    *   **触发**：点击遮罩层。
    *   **效果**：内容清晰显示。
    *   **倒计时**：UI 上显示 3 秒倒计时（建议用环形进度条或数字）。
    *   **结束**：3 秒后自动恢复模糊状态。
3.  **次数限制 (Access Control)**：
    *   **规则**：每个内容块（Input/Output）拥有独立的计数器 `viewCount`。
    *   **上限**：3次。
    *   **惩罚**：当 `viewCount >= 3` 时，内容永久锁定（显示“已销毁”/“Secret Lost”），无法再次查看，只能清空重置。
    *   **生命周期**：仅在当前 App 运行时有效，重启 App 后重置。

## 3. UI/UX 设计规划

### 3.1 视觉风格
*   **配色**：高对比度、活泼。
    *   背景：深空灰/黑 (Dark Mode)。
    *   强调色：荧光绿（解密成功）、活力橙（警告/倒计时）、电光紫（加密）。
*   **布局**：卡片式布局，圆角大一点（24vp），像气泡一样悬浮。

### 3.2 关键动画 (Animation)
1.  **输入反馈**：输入文字时，输入框边缘有微弱的呼吸光效。
2.  **查看倒计时**：
    *   显示时：一个圆环倒计时器快速转动。
    *   隐藏时：类似于“烟雾消散”或“百叶窗关闭”的转场。
3.  **销毁动画**：
    *   第三次查看结束时，锁图标做一个“破碎”或“上锁”的动画，并震动反馈 (Vibration)。
4.  **转换过程**：点击“转换”按钮，按钮旋转或变形，结果框弹出的过程带有弹簧阻尼效果 (Spring Curve)。

## 4. 技术架构 (Technical Stack)

*   **开发语言**：ArkTS
*   **UI 框架**：ArkUI (声明式开发)
*   **关键 API**：
    *   `@ohos.util`：用于 Base64 转换。
    *   `animateTo` & `Attribute Animation`：实现活泼的动效。
    *   `AppStorage` / `LocalStorage`：管理简单的状态（不需要复杂的数据库）。
