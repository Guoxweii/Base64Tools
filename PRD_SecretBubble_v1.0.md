# 项目设计文档：Base64加密助手（当前实现版）

## 1. 项目概述
- 项目名称：Base64加密助手
- 平台：HarmonyOS（ArkTS + ArkUI）
- 产品目标：在本地完成 Base64 编码/解码，并提供“短时可见 + 阅后受限”的隐私查看体验。
- 隐私承诺：文本处理在本地完成，不上传服务器。

## 2. 当前功能范围

### 2.1 编解码能力
- Base64 编码：普通文本 -> Base64
- Base64 解码：Base64 -> 普通文本
- 模式切换：通过分段控件切换“Base64 编码 / Base64 解码”
- 执行入口：单一主按钮“执行编码转换/执行解码转换”

### 2.2 输入能力
- 文本输入：支持键盘输入与粘贴
- 扫码输入：通过 Scan Kit 扫码后自动填入输入框
- 输入可见性：点击眼睛图标可暂时明文显示，2 秒后自动恢复隐藏
- 输入清空：输入卡片右上角垃圾桶可清空输入与输出

### 2.3 输出能力
- 输出展示：转换后显示在输出卡片
- 隐藏与查看：默认隐藏，点击眼睛/遮罩可查看
- 查看时长：每次查看 2 秒，显示线性倒计时
- 查看次数限制：共 3 次机会，用完后锁定不可再查看
- 机会指示：底部圆点表示剩余次数（默认全亮，用掉后变灰）

### 2.4 结果处理
- 清空按钮：清空输入与输出
- 复制并销毁：将输出复制到剪贴板后，立即清空全部内容

## 3. 交互规则

### 3.1 页面布局规则
- 单屏优先：主流程在一屏完成，不依赖页面滚动
- 安全区：标题区避开刘海，顶部留有可视间距

### 3.2 状态规则
- 主按钮禁用态：输入为空时主按钮弱化/禁用
- 销毁按钮禁用态：输出为空时“复制并销毁”弱化/禁用
- 空输出态：输出区域显示弱化占位文案，不显示可查看入口

### 3.3 隐私查看规则
- 输入框：只做“2 秒可见后自动隐藏”，不限制次数
- 输出框：2 秒可见 + 3 次机会限制 + 锁定后不可访问

## 4. 视觉规范（当前）
- 风格：浅色、卡片式、圆角胶囊按钮
- 颜色语义：
  - 主色：蓝色（主要操作）
  - 次级：灰色（说明信息、次级图标）
  - 危险：浅红底 + 深红字（复制并销毁）
- 图标策略：输入区图标统一小尺寸、浅灰线性风格

## 5. 技术实现
- 开发语言：ArkTS
- UI：ArkUI 声明式
- 关键模块：
  - `Base64Util`：编解码
  - `SecretBox`：输入/输出卡片与隐私查看逻辑
  - `Index`：页面编排、模式切换、复制销毁、扫码触发
- 关键 API：
  - `@ohos.pasteboard`：复制结果
  - `@ohos.promptAction`：Toast 提示
  - `@kit.ScanKit`：扫码输入
  - `animateTo` + 定时器：倒计时与过渡动画

## 6. 后续建议（不影响当前功能）
- 可选增加“复制成功”单独按钮（与销毁拆分）
- 解码失败增加轻量错误提示（当前以静默为主）
- 适配超小屏时进一步压缩纵向间距
